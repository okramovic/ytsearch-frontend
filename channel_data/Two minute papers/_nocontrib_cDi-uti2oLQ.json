{"title":"TU Wien Rendering #29 - Path Tracing Implementation & Code Walkthrough","fromid":"cDi-uti2oLQ","words":[["What",0],["a",0],["wonderful",0],["day,",0],["we",0],["have",0],["today",0],["and",0],["what",0],["a",0],["wonderful",0],["time",0],["it",0],["is",0],["to",0],["write",0],["a",0],["path",0],["tracer",0],["So",8],["why",8],["don't",8],["we",8],["get",8],["started?",8],["What",12],["we",12],["are",12],["gonna",12],["be",12],["looking",12],["at",12],["is",12],["a",12],["program",12],["called",12],["small",12],["paint",12],["which",12],["is",12],["a",12],["small",12],["path",12],["tracer",12],["in",12],["effectively",12],["250",20],["Lines",20],["of",20],["code",20],["and",20],["it",20],["contains",20],["everything",20],["that",20],["we",20],["have",20],["learned",20],["during",20],["this",20],["course",20],["We're",27],["gonna",27],["be",27],["able",27],["to",27],["compute",27],["soft",27],["shadows",27],["anti-aliasing",30],["monte",30],["Carlo",30],["integration",30],["and",30],["even",30],["quasi",30],["monte",30],["Carlo",30],["Sampling",30],["which",30],["basically",30],["means",30],["low",30],["discrepancy",30],["sampling",30],["This",38],["version",38],["of",38],["the",38],["program",38],["is",38],["going",38],["to",38],["be",38],["able",38],["to",38],["compute",38],["refractions",38],["color",38],["bleeding",38],["and",38],["caustics",38],["and",38],["in",38],["the",38],["end",38],["The",45],["binary",45],["you",45],["can",45],["power",45],["from",45],["the",45],["code",45],["can",45],["be",45],["compressed",45],["into",45],["less",45],["than",45],["4",45],["kilobytes",45],["This",52],["is",52],["how",52],["the",52],["end",52],["result",52],["looks",52],["like",52],["it",52],["has",52],["a",52],["beautiful",52],["Painterly",55],["look",55],["which",55],["actually",55],["comes",55],["from",55],["a",55],["bug",55],["and",55],["you",55],["can",55],["also",55],["see",55],["that",55],["the",55],["light",55],["source",55],["up",55],["there",55],["the",62],["Whitish",62],["looking",62],["sphere",62],["is",62],["you",65],["could",65],["say",65],["perfectly",67],["anti",67],["aliased",67],["In",69],["order",69],["to",69],["achieve",69],["this",69],["with",69],["a",69],["recursive",69],["Ray",69],["tracer",69],["and",69],["no",69],["global",69],["illumination",69],["Algorithm",74],["you",74],["would",74],["need",74],["to",74],["compute",74],["the",74],["very",74],["same",74],["image",74],["on",74],["a",74],["much",74],["larger",74],["resolution",74],["and",79],["then",79],["scale",79],["it",79],["down",79],["to",79],["a",79],["smaller",79],["image",79],["like",79],["this",79],["and",79],["This",83],["anti",83],["aliasing",83],["effect",83],["you",83],["get",83],["for",83],["free",83],["if",83],["you",83],["compute",83],["monte",83],["Carlo",83],["Path",83],["tracing",83],["so",90],["the",90],["question",90],["is",90],["how",90],["is",90],["this",90],["exactly",90],["done",90],["and",90],["Now",94],["is",94],["the",94],["best",94],["time",94],["to",94],["put",94],["everything",94],["into",94],["use",94],["that",94],["we",94],["have",94],["learned",94],["so",94],["far.",94],["So",94],["let's",94],["get",94],["started",94],["we",94],["have",94],["A",100],["completely",100],["standard",100],["vector",100],["class",100],["it",100],["is",100],["a",100],["three",100],["dimensional",100],["vector.",100],["It",100],["has",100],["its",100],["own",100],["constructor",107],["the",107],["classical",107],["operators",107],["that",107],["you",107],["would",107],["expect",107],["and",107],["we",107],["also",107],["have",107],["a",107],["dot",107],["product",107],["for",107],["the",107],["vector",107],["and",107],["A",114],["cross",114],["product",114],["for",114],["the",114],["vector",114],["it",114],["is",114],["also",114],["obviously",114],["possible",114],["to",114],["compute",114],["the",114],["length",114],["of",114],["this",114],["vector",114],["So",119],["nothing",119],["too",119],["exciting",119],["or",119],["important",119],["here",119],["But",122],["we",122],["definitely",122],["need",122],["to",122],["build",122],["on",122],["a",122],["solid",122],["vector",122],["class",122],["now",122],["the",122],["representation",122],["of",122],["array",122],["Array",129],["has",129],["an",129],["origin",129],["and",129],["the",129],["direction",129],["and",129],["If",133],["you",133],["take",133],["a",133],["close",133],["look",133],["at",133],["the",133],["constructor",133],["you",133],["can",133],["see",133],["that",133],["when",133],["you",133],["initialize",133],["array",133],["with",133],["a",133],["direction",133],["Then",139],["this",139],["direction",139],["is",139],["normed",139],["and",139],["the",139],["reason",139],["is",139],["that",139],["when",139],["we",139],["compute",139],["the",139],["dot",139],["products",139],["between",139],["these",139],["vectors",139],["most",146],["of",146],["these",146],["information",146],["needs",149],["to",149],["be",149],["directional",150],["information,",150],["so",150],["we",150],["are",150],["not",150],["interested",150],["in",150],["the",150],["magnitude",150],["of",150],["the",150],["vector",150],["only",150],["interested",154],["in",154],["the",154],["direction",154],["of",154],["the",154],["vector",154],["a",154],["good",154],["way",154],["to",154],["get",154],["rid",154],["of",154],["problems",154],["where",154],["you",154],["would",154],["initialize",154],["your",154],["array",154],["with",154],["Directions",161],["that",161],["are",161],["not",161],["vectors",161],["of",161],["unit",161],["length,",161],["but",161],["you",161],["can",161],["do",161],["is",161],["to",161],["normalize",161],["this",161],["input",161],["in",161],["the",161],["constructor",161],["So",168],["you",168],["will",168],["never",168],["have",168],["headaches",168],["about",168],["incorrect",168],["results",168],["where",168],["you",168],["have",168],["no",168],["idea.",168],["What",168],["is",168],["really",168],["happening?",168],["What",175],["is",175],["the",175],["representation",175],["of",175],["an",175],["object",175],["well",175],["an",175],["object",175],["has",175],["a",175],["color",175],["this",175],["is",175],["denoted",175],["by",175],["Cl",175],["This",180],["is",180],["actually",180],["very",180],["sloppy",180],["notation",180],["and",180],["this",180],["you",180],["can",180],["imagine",180],["as",180],["Albedo",180],["But",185],["it",185],["is",185],["not",185],["a",185],["double",185],["so",185],["it's",185],["not",185],["a",185],["number",185],["it",188],["is",188],["actually",188],["a",188],["vector",188],["and",188],["The",190],["reason",190],["for",190],["this",190],["is",190],["the",190],["fact",190],["that",190],["we",190],["need",190],["to",190],["define",190],["the",190],["Albedo's",190],["how",190],["much",190],["light",190],["in",190],["different",190],["wavelengths",190],["is",190],["being",190],["Reflected",199],["and",199],["how",199],["much",199],["is",199],["being",199],["absorbed",199],["by",199],["the",199],["given",199],["object?",199],["now",203],["objects",203],["may",203],["also",203],["have",203],["a",203],["mission",203],["if",203],["they",203],["have",203],["some",203],["Nonzero",203],["emission",203],["then",203],["their",203],["light",203],["sources",203],["and",203],["by",203],["Type,",208],["we",208],["have",208],["an",208],["integer",208],["that",208],["would",208],["specify.",208],["What",208],["kind",208],["of",208],["brdf",208],["we",208],["have",208],["It",214],["is",214],["also",214],["important",214],["to",214],["have",214],["an",214],["intersection",214],["routine",214],["and",214],["some",214],["other",214],["Function",218],["that",218],["can",218],["compute",218],["the",218],["normal",218],["of",218],["the",218],["object",218],["now",218],["these",218],["are",218],["of",218],["course",218],["virtual",218],["functions",218],["We",223],["don't",223],["define",223],["them",223],["or",223],["an",223],["abstract",223],["object",223],["But",227],["they",227],["would",227],["have",227],["to",227],["be",227],["implemented",227],["in",227],["other",227],["classes",227],["that",227],["inherit",227],["from",227],["the",227],["object",227],["Let's",237],["take",237],["a",237],["look",237],["at",237],["a",237],["sphere",237],["So",239],["a",239],["sphere",239],["has",239],["the",239],["C",239],["and",239],["our",239],["C",239],["is",239],["the",239],["center",239],["of",239],["the",239],["objects",239],["and",239],["R",239],["is",239],["the",239],["radius?",239],["The",246],["constructor",246],["is",246],["trivial",246],["We",247],["have",247],["the",247],["intersection",247],["function",247],["now",247],["if",247],["you",247],["hopefully",247],["remember",247],["all",247],["three",252],["of",252],["the",252],["elements",252],["of",252],["the",252],["quadratic",252],["function",252],["that",252],["we",252],["need",252],["to",252],["solve,",252],["but",252],["if",252],["you",252],["take",252],["a",252],["good",252],["look",252],["Then",257],["you",257],["will",257],["see",257],["that",257],["a",257],["is",257],["missing",257],["from",257],["here",257],["and",257],["the",257],["question",257],["is",257],["why",257],["is",257],["that?",257],["The",263],["answer",263],["is",263],["we",263],["are",263],["multiplying",263],["D",263],["with",263],["D?",263],["The",266],["Direct",266],["vector",266],["of",266],["array",266],["with",266],["itself",266],["and",266],["if",266],["it's",266],["a",266],["vector",266],["that",266],["is",266],["norm",266],["so",271],["it",271],["is",271],["of",271],["length",271],["1",271],["then",271],["this",271],["a",271],["will",271],["always",271],["be",271],["1",271],["After",278],["that",278],["we",278],["can",278],["deal",278],["with",278],["the",278],["discriminant",278],["the",278],["discriminant",278],["is",278],["Normally",284],["not",284],["b.",284],["Squared",284],["minus",284],["4ac",284],["Remember",288],["a",288],["is",288],["1",288],["here,",288],["so",288],["it's",288],["omitted",288],["But",290],["it",290],["is",290],["behind",290],["a",290],["square",290],["root",290],["and",290],["this",290],["square",290],["root",290],["is",290],["completely",290],["omitted",290],["here",290],["Which",295],["looks",295],["like",295],["a",295],["mistake,",295],["but",295],["it",295],["is",295],["not",295],["it",295],["is",295],["essentially",295],["an",295],["optimization",295],["step",295],["because",295],["you",295],["will",295],["see",295],["that",295],["We",302],["are",302],["testing",302],["the",302],["discriminant",302],["if",303],["it's",303],["less",303],["than",303],["0",303],["if",303],["it's",303],["less",303],["than",303],["0",303],["then",303],["we",303],["don't",303],["need",303],["to",303],["deal",303],["with",303],["this",303],["equation",303],["because",303],["the",303],["solutions",310],["for",310],["the",310],["quadratic",310],["equation",310],["are",310],["going",310],["to",310],["exist",310],["in",310],["the",310],["plane",310],["of",310],["complex",310],["numbers",310],["and",310],["That's",316],["not",316],["a",316],["valid",316],["t.",316],["It's",316],["not",316],["a",316],["valid",316],["distance",316],["where",316],["we",316],["would",316],["intersect",316],["a",316],["sphere",316],["if",316],["this",316],["is",316],["not",316],["happening",316],["Then",323],["we",323],["can",323],["compute",323],["the",323],["square",323],["root",323],["for",323],["the",323],["discriminant",323],["y",323],["after",323],["that",323],["because",323],["if",323],["the",323],["discriminant",323],["is",323],["bigger",331],["Than",331],["0",331],["Then",333],["the",333],["square",333],["root",333],["is",333],["not",333],["going",333],["to",333],["make",333],["a",333],["difference",333],["So",335],["what",335],["we",335],["can",335],["essentially",335],["do",335],["is",335],["to",335],["postpone",335],["the",335],["square",335],["root",335],["calculation",335],["after",335],["the",335],["test",335],["note",335],["that?",335],["Square",341],["roots",341],["are",341],["really",341],["really",341],["expensive",341],["so",341],["we",341],["can",341],["save",341],["up",341],["lots",341],["of",341],["computational",341],["time",341],["if",341],["you",341],["omit",341],["this",341],["calculation",341],["There",350],["is",350],["a",350],["really",350],["nice",350],["Square",352],["root",352],["hack",352],["in",352],["the",352],["source",352],["code",352],["of",352],["quake",352],["3",352],["which",352],["is",352],["by",352],["the",352],["way",352],["open",352],["source",352],["take",352],["a",352],["look",352],["at",352],["how",352],["people",352],["are",352],["trying",352],["to",359],["hack",359],["together",359],["Functions",360],["in",360],["order",360],["to",360],["work",360],["better",360],["and",360],["faster",360],["than",360],["they",360],["should",360],["because",360],["square",360],["roots",360],["are",360],["super",360],["expensive",360],["and",360],["there",360],["are",360],["some",360],["really",360],["interesting",360],["Hacks",368],["in",368],["order",368],["to",368],["speed",368],["them",368],["up",368],["we",372],["have",372],["the",372],["plus",372],["and",372],["minus",372],["term",372],["and",372],["the",372],["division",372],["Pi",372],["to",372],["a",372],["is",372],["again",372],["postponed",372],["and",372],["That's",380],["also",380],["another",380],["Interesting",381],["question",381],["why",381],["is",381],["this",381],["postponed",381],["so",381],["you",381],["can",381],["see",381],["that",381],["the",381],["soul",381],["2",381],["is?",381],["Divided",385],["by",385],["2",385],["and",385],["the",385],["soul",385],["1",385],["is",385],["also",385],["divided",385],["by",385],["2",385],["but",385],["only",385],["after",385],["the",385],["test",385],["So",390],["it",390],["is",390],["possible",390],["that",390],["if",390],["we",390],["have",390],["the",390],["solution",390],["2",390],["if",390],["it",390],["is",390],["bigger",390],["than",390],["epsilon",390],["then",390],["we",390],["have",390],["the",390],["first",390],["expression",390],["after",397],["the",397],["question",397],["mark",397],["But",398],["if",398],["it's",398],["not",398],["then",398],["we",398],["are",398],["looking",398],["for",398],["the",398],["second",398],["expression",398],["after",398],["it",398],["which",398],["is",398],["another",398],["test",398],["And",403],["if",403],["the",403],["answer",403],["is",403],["no",403],["for",403],["that",403],["as",403],["well",403],["Then",405],["we",405],["are",405],["going",405],["to",405],["return",405],["0",405],["this",405],["would",405],["mean",405],["that",405],["We",408],["don't",408],["have",408],["any",408],["hits",408],["or",408],["the",408],["hits",408],["are",408],["behind",408],["us",408],["and",408],["we",408],["are",408],["not",408],["interested",408],["in",408],["Intersections",414],["that",414],["are",414],["behind",414],["our",414],["array.",414],["There",414],["is",414],["a",414],["possibility",414],["that",414],["we",414],["encountered",414],["this",414],["and",414],["in",414],["this",414],["case",414],["I",419],["don't",419],["want",419],["to",419],["waste",419],["my",419],["time",419],["by",419],["dividing",419],["these",419],["solutions",419],["by",419],["2",419],["because",419],["I'm",419],["not",419],["going",419],["to",419],["use",419],["them",419],["Why",426],["am",426],["I",426],["splitting",426],["hairs",426],["here?",426],["That's",428],["an",428],["important",428],["question",428],["why",428],["do",428],["we",428],["need",428],["to",428],["optimize",428],["so",428],["much",428],["because",428],["if",428],["you",428],["grab",428],["a",428],["profiler",428],["a",428],["program",428],["That",435],["is",435],["able",435],["to",435],["show",435],["you",435],["in",435],["what",435],["functions",435],["Are",438],["you",438],["spending",438],["most",438],["of",438],["your",438],["time",438],["in",438],["then",438],["this",438],["profiler",438],["would",438],["show",438],["you",438],["that",438],["more",438],["than",438],["90%",438],["of",438],["the",438],["execution",438],["time",438],["is?",438],["Spent",446],["in",446],["the",446],["intersection",446],["routines,",446],["so",446],["you",446],["have",446],["to",446],["have",446],["a",446],["really",446],["well",446],["optimized",446],["intersection",446],["routine",446],["Some",452],["programs",452],["have",452],["replaced",452],["these",452],["expressions",452],["with",452],["assembly",452],["in",452],["order",452],["to",452],["speed",452],["it",452],["up",452],["even",452],["more",452],["So",460],["how",460],["do",460],["we",460],["compute",460],["the",460],["normal",460],["of",460],["a",460],["sphere?",460],["Well",460],["very",460],["simple",460],["what",460],["we",460],["have",460],["here",460],["is",460],["p",460],["minus",460],["C",460],["now?",460],["What",467],["does",467],["it",467],["mean,",467],["so",467],["if",467],["I",467],["have",467],["a",467],["minus",467],["b?",467],["Then",470],["this",470],["means",470],["a",470],["vector",470],["that",470],["points",470],["from",470],["B",470],["to",470],["a",470],["so",470],["what",470],["this",470],["would",470],["mean?",470],["Look",474],["at",474],["the",474],["figure",474],["here",474],["If",475],["I",475],["would",475],["have",475],["a",475],["circle",475],["then",475],["this",475],["would",475],["mean",475],["that",475],["from",475],["the",475],["center",475],["it",475],["is",475],["pointing",475],["towards",475],["the",475],["given",475],["points",475],["of",475],["the",475],["sphere",475],["now",483],["this",483],["is",483],["also",483],["divided",483],["by",483],["or",483],["Because",486],["you",486],["could",486],["imagine",486],["you",486],["have",486],["a",486],["sphere",486],["that",486],["is",486],["not",486],["of",486],["unit",486],["radius",486],["And",491],["if",491],["it's",491],["not",491],["of",491],["unit",491],["radius",491],["then",491],["this",491],["normal",491],["vector",491],["would",491],["have",491],["a",491],["length",491],["you",491],["could",491],["compute",491],["a",491],["normalization",491],["We",497],["have",497],["a",497],["normalized",497],["function",497],["in",497],["our",497],["vector",497],["implementation,",497],["but",497],["it",497],["also",497],["has",497],["a",497],["square",497],["root",497],["So",502],["it",502],["would",502],["be",502],["much",502],["better",502],["to",502],["have",502],["something",502],["that's",502],["faster",502],["Well",506],["if",506],["you",506],["just",506],["divide",506],["by",506],["the",506],["radius",506],["of",506],["the",506],["sphere",506],["then",506],["you",506],["would",506],["immediately",506],["get",506],["a",506],["vector",506],["of",506],["unit",506],["length",506],["so",514],["in",514],["the",514],["end",514],["we",514],["can",514],["get",514],["the",514],["correct",514],["result",514],["by",514],["just",514],["simply",514],["dividing",514],["by",514],["our",514],["excellent",520],["Now",522],["we",522],["have",522],["a",522],["perspective",522],["camera",522],["here.",522],["Hopefully",522],["you",522],["remember",522],["from",522],["the",522],["first",522],["lecture.",522],["We",522],["are",522],["basically",522],["just",522],["copy",522],["pasting",522],["this",522],["expression",522],["here",522],["We",529],["have",529],["derived",529],["them",529],["rigorously",529],["and",529],["analyzed",529],["how",529],["this",529],["exactly",529],["works",529],["simple",529],["intuition,",529],["basically",529],["what",529],["we",529],["are",529],["doing",529],["We",536],["have",536],["as",536],["an",536],["input",536],["and",536],["x",536],["and",536],["the",536],["y",536],["Basically",539],["this",539],["means",539],["give",539],["me",539],["a",539],["pixel",539],["with",539],["this",539],["Displacement",542],["and",542],["what",542],["it",542],["would",542],["give",542],["you",542],["back",542],["is",542],["the",542],["world",542],["space",542],["coordinates",542],["of",542],["these",542],["pixels?",542],["Uniform",550],["sampling",550],["of",550],["a",550],["hemisphere,",550],["what",550],["is",550],["this",550],["for",550],["if",550],["we",550],["are",550],["encountering",550],["a",550],["diffuse",550],["object?",550],["What",555],["we",555],["would",555],["like",555],["to",555],["do",555],["is",555],["to",555],["send",555],["array",555],["out",555],["on",555],["the",555],["hemisphere",555],["of",555],["this",555],["object",555],["This",561],["we",561],["would",561],["need",561],["to",561],["uniform",561],["this",561],["sample",561],["this",561],["means",561],["that",561],["the",561],["diffuse",561],["brdf",565],["is",565],["one",565],["over",565],["pi",565],["or",565],["ro",565],["over",565],["Pi",565],["if",565],["you",565],["take",565],["into",565],["consideration",565],["the",565],["Albedo",565],["s--",565],["and",565],["you",565],["need",565],["Transforms",572],["in",572],["order",572],["to",572],["do",572],["it.",572],["There",572],["is",572],["a",572],["reading",572],["behind",572],["this",572],["link",572],["How",576],["it",576],["works",576],["exactly",576],["is?",576],["Drawing",578],["uniform",578],["samples",578],["on",578],["a",578],["plane",578],["which",578],["is",578],["simple,",578],["and",578],["then",578],["we",578],["are",578],["projecting",578],["it",578],["on",578],["the",578],["hemisphere.",578],["That's",578],["basically",578],["all",578],["there",578],["is",578],["What",589],["about",589],["the",589],["trace",589],["function",589],["as",589],["you",589],["can",589],["see",589],["here",589],["in",589],["the",589],["first",589],["line",589],["this",589],["code",589],["says",589],["that",589],["there",589],["is",589],["a",589],["maximum",589],["depth",589],["now",589],["Clamping",597],["after",597],["a",597],["maximum",597],["depth",597],["value",597],["is",597],["not",597],["really",597],["optimal",597],["because",597],["whatever",597],["number",597],["you",597],["put",597],["in",597],["there",597],["the",597],["higher",597],["Order",603],["bounces",603],["are",603],["going",603],["to",603],["be",603],["completely",603],["omitted",603],["now",603],["the",603],["real",603],["solution",603],["would",603],["be",603],["Russian",609],["Roulette'",609],["past",609],["termination,",609],["which",609],["we",609],["fortunately",609],["also",609],["have",609],["after",614],["depth",614],["of",614],["an",614],["arbitrary",614],["number",614],["like",614],["5",614],["you",614],["start",614],["the",614],["Russian",614],["Roulette",614],["Routine",614],["which",619],["basically",619],["says",619],["there",619],["is",619],["a",619],["probability",619],["for",619],["stopping",619],["the",619],["light",619],["path",619],["right",619],["there",619],["and",619],["We",626],["generate",626],["a",626],["random",626],["number",626],["and",626],["compare",626],["to",626],["this",626],["probability",626],["if",626],["we",626],["don't",626],["hit",626],["this",626],["probability",626],["then",626],["we",626],["will",626],["continue",626],["our",626],["path",626],["But",632],["we",632],["will",632],["multiply",632],["the",632],["output",632],["and",632],["the",632],["contribution",632],["of",632],["this",632],["light",632],["path",632],["by",632],["this",632],["Given",638],["number",638],["that",638],["we",638],["have",638],["specified",638],["in",638],["one",638],["of",638],["the",638],["previous",638],["lectures,",638],["so",638],["this",638],["was",638],["implemented",638],["by",638],["Christian",638],["Maja",638],["check",638],["and",638],["kind.",638],["Thanks",638],["and",651],["You",652],["can",652],["see",652],["that",652],["later.",652],["We",652],["are",652],["going",652],["to",652],["use",652],["this",652],["rr.",652],["Factor",652],["in",652],["order",652],["to",652],["multiply",652],["the",652],["contribution",652],["over",652],["a",652],["later",652],["Now",663],["what",663],["about",663],["the",663],["intersection",663],["routine",663],["this",663],["is",663],["definitely",663],["not",663],["the",663],["best",663],["way",663],["to",663],["do",663],["it",663],["But",668],["it's",668],["sure",668],["as",668],["hell",668],["the",668],["easiest",668],["way",668],["to",668],["do",668],["it",668],["We",670],["specify",670],["this",670],["t",670],["which",670],["is",670],["going",670],["to",670],["be",670],["the",670],["intersection",670],["distance",670],["How",675],["far",675],["we",675],["are",675],["from",675],["the",675],["start",675],["of",675],["the",675],["array",675],["and",675],["how",675],["far",675],["is",675],["this",675],["intersection?",675],["exactly",680],["i",680],["d",680],["is",680],["basically",680],["which",680],["object",680],["did",680],["we",680],["hit",680],["and",680],["then",680],["we",680],["iterate",680],["through",680],["all",680],["of",680],["the",680],["objects",680],["in",680],["the",680],["scene",680],["and",680],["what",680],["we",680],["Are",687],["interested",687],["in",687],["is",687],["calling",687],["the",687],["intersection",687],["routine",687],["this",687],["will",687],["return",687],["a",687],["t.",687],["How",687],["far",687],["is",687],["the",687],["intersection",687],["and",687],["what",687],["I",687],["am",687],["interested",687],["in",687],["an",687],["intersection",695],["that",695],["is",695],["the",695],["smallest",695],["number",695],["this",695],["means",695],["the",695],["closest",695],["intersection",695],["and",695],["also",701],["Something",701],["that",701],["is",701],["larger",701],["than",701],["EPsilon",701],["because",701],["if",701],["I",701],["would",701],["tolerate",701],["zero",701],["then",701],["this",701],["would",701],["mean",701],["that",701],["self",701],["intersections",701],["are",701],["accepted",701],["Therefore",709],["every",709],["single",709],["object",709],["that",709],["I",709],["am",709],["on",709],["is",709],["going",709],["to",709],["be",709],["the",709],["first",709],["intersection",709],["I'm",714],["not",714],["interested",714],["in",714],["this",714],["I",714],["know",714],["where",714],["I",714],["am",714],["I",717],["just",717],["want",717],["to",717],["know",717],["where",717],["I",717],["am",717],["continuing",717],["my",717],["path",717],["if",717],["there",717],["is",717],["no",717],["intersection",717],["then",717],["we",717],["return",717],["there",717],["is",717],["zero",717],["contribution",717],["where",727],["is",727],["the",727],["intersection",727],["in",727],["World",727],["Space",727],["we",727],["denote",727],["this",727],["by",727],["hPU",727],["this",727],["means",727],["hit",727],["point",727],["and",727],["Where",733],["we",733],["have",733],["started",733],["array?",733],["we",735],["traveled",735],["along",735],["the",735],["direction",735],["of",735],["the",735],["ray",735],["with",735],["this",735],["t",735],["amount",735],["where",735],["the",735],["intersection",735],["is",735],["so",735],["this",735],["is",735],["where",735],["we",735],["ended",735],["up",735],["and",735],["The",743],["origin",743],["of",743],["the",743],["new",743],["Ray",743],["is",743],["going",743],["to",743],["be",743],["this",743],["hit",743],["point.",743],["What",743],["is",743],["the",743],["normal",743],["going",743],["to",743],["be",743],["well?",743],["We",749],["just",749],["grabbed",749],["the",749],["object",749],["that",749],["we",749],["intersected",749],["and",749],["we",749],["are",749],["taking",749],["the",749],["normal",749],["with",749],["the",749],["given",749],["function.",749],["What",749],["is",749],["the",749],["return",749],["radiance?",749],["We",756],["simply",756],["add",756],["the",756],["emission",756],["term",756],["this",756],["is",756],["the",756],["emission",756],["term",756],["on",756],["all",756],["three",756],["wavelengths",756],["There",761],["is",761],["a",761],["magic",761],["multiplier",761],["disregard",761],["that",761],["and",761],["then",761],["we",761],["continue",761],["Evaluating",766],["the",766],["second",766],["part",766],["of",766],["the",766],["rendering",766],["equation",766],["the",766],["first",766],["part",766],["is",766],["the",766],["emission",766],["and",766],["the",766],["second",766],["is",766],["the",766],["reflected",766],["amount",766],["of",766],["light",766],["let's",776],["continue",776],["with",776],["the",776],["inside",776],["of",776],["the",776],["trace",776],["function",776],["if",776],["we",776],["Hit",780],["an",780],["object",780],["with",780],["the",780],["type",780],["of",780],["one",780],["then",780],["this",780],["is",780],["a",780],["diffuse",780],["brdf",780],["the",780],["next",780],["function",780],["compute",780],["the",780],["next",780],["random",780],["number",780],["for",780],["the",780],["low",780],["discrepancy",788],["halt",788],["on",788],["sampler",788],["and",788],["the",788],["Direction",788],["is",788],["going",788],["to",788],["be",788],["a",788],["random",788],["sample",788],["in",788],["the",788],["hemisphere",788],["a",788],["Completely",795],["uniform",795],["random",795],["sample",795],["in",795],["the",795],["hemisphere",795],["of",795],["this",795],["object",795],["what",795],["we",795],["have",795],["here",795],["is",795],["this",795],["M",795],["plus",795],["the",795],["hemisphere",795],["function",795],["This",802],["is",802],["intuition.",802],["This",802],["is",802],["not",802],["exactly",802],["what",802],["is",802],["happening.",802],["I've",802],["just",802],["shortened",802],["the",802],["code",802],["slightly",802],["in",802],["order",802],["to",802],["simplify",802],["What",809],["is",809],["going",809],["on",809],["here",809],["the",809],["code",809],["that",809],["you",809],["will",809],["download",809],["will",809],["have",809],["the",809],["real",809],["deal",809],["in",809],["there?",809],["Now",814],["then",814],["we",814],["compute",814],["the",814],["cosine",814],["term",814],["very",814],["straightforward",814],["and",814],["on",814],["the",814],["tMP",814],["We",820],["are",820],["going",820],["to",820],["instantiate",820],["a",820],["new",820],["vector",820],["and",822],["this",822],["is",822],["going",822],["to",822],["hold",822],["the",822],["recursion",822],["so",822],["the",822],["Subsequent",826],["samples",826],["that",826],["we",826],["shoot",826],["out",826],["from",826],["the",826],["hemisphere",826],["are",826],["going",826],["to",826],["be",826],["added",826],["and",826],["added",826],["to",826],["this",826],["tMP",826],["Now",832],["is",832],["the",832],["time",832],["for",832],["recursion",832],["we",832],["passed",832],["array",832],["and",832],["the",832],["scene",832],["to",837],["the",837],["trace",837],["function",837],["the",837],["array",837],["is",837],["actually",837],["not",837],["the",837],["current",837],["one",837],["is",837],["the",837],["new",837],["one",837],["so",837],["Basically",842],["we",842],["set",842],["up",842],["the",842],["new",842],["hit",842],["point",842],["and",842],["a",842],["new",842],["direction",842],["of",842],["the",842],["array",842],["And",845],["this",845],["is",845],["what",845],["we",845],["are",845],["going",845],["to",845],["pass",845],["to",845],["the",845],["trace",845],["function",845],["we",845],["increment",845],["the",845],["depth",845],["variable",850],["because",850],["we",850],["have",850],["computed",850],["the",850],["bounds",850],["the",850],["tMP",850],["is",850],["going",850],["to",850],["be",850],["a",850],["variable",850],["where",850],["we",850],["Gather",850],["all",850],["these",850],["radians",850],["and",850],["we",856],["put",856],["every",856],["other",856],["parameter",856],["that",856],["is",856],["needed",856],["to",856],["compute",856],["one",856],["more",856],["bounds",856],["now",856],["the",856],["color",856],["is",856],["going",856],["to",856],["contain",856],["the",856],["cosine",856],["term",856],["and",856],["All",864],["this",864],["radiance",864],["that",864],["is",864],["collected",864],["from",864],["the",864],["recursion",864],["And",868],["we",868],["multiply",868],["it",868],["with",868],["this",868],["Cl",868],["that",868],["xyz",868],["which",868],["is",868],["basically",868],["the",868],["brdf",868],["So",874],["this",874],["is",874],["the",874],["right",874],["side",874],["of",874],["the",874],["rendering",874],["equation",874],["for",874],["the",874],["diffuse",874],["brdf.",874],["This",874],["is",874],["multiplied",874],["by",874],["0.1",874],["This",880],["is",880],["just",880],["a",880],["magic",880],["constant",880],["Now",886],["what",886],["about",886],["a",886],["specular",886],["brdf?",886],["What",888],["if",888],["we",888],["hit",888],["a",888],["mirror",888],["well",888],["very",888],["simple",888],["we",888],["compute",888],["the",888],["perfect",888],["reflection",888],["direction",888],["you",888],["can",888],["see",888],["the",888],["rate",888],["dot",888],["D",888],["and?",888],["we",896],["again",896],["set",896],["up",896],["this",896],["variable",896],["to",896],["collect",896],["the",896],["radiance",896],["in",896],["there",896],["and",896],["We",901],["are",901],["not",901],["doing",901],["anything",901],["we",902],["are",902],["just",902],["going",902],["to",902],["add",902],["the",902],["radiance",902],["as",902],["we",902],["get",902],["reflected",902],["off",902],["of",902],["this",902],["mirror",902],["then",902],["we",902],["are",902],["going",902],["to",902],["compute",902],["subsequent",902],["bounces",902],["and",902],["This",910],["is",910],["going",910],["to",910],["be",910],["stored",910],["on",910],["this",910],["tMP.",910],["So",910],["this",910],["is",910],["what",910],["we're",910],["going",910],["to",910],["add",910],["to",910],["this",910],["radiance",910],["what",918],["about",918],["a",918],["refractive",918],["material",918],["well",918],["we",918],["have",918],["every",918],["bit",918],["of",918],["knowledge",918],["that",918],["we",918],["need",918],["for",918],["this",918],["because",918],["essentially",925],["this",925],["is",925],["the",927],["Vector",927],["version",927],["of",927],["Snell's",927],["law",927],["What",930],["does",930],["it",930],["mean",930],["well",930],["the",930],["original",930],["Snell's",930],["law",930],["that",930],["we",930],["have",930],["computed",930],["is",930],["in",930],["1d?",930],["So",936],["it",936],["only",936],["gives",936],["you",936],["one",936],["angle,",936],["but",936],["if",936],["you",936],["are",936],["in",936],["3d,",936],["you",936],["are",936],["interested",936],["in",936],["Angles",936],["in",936],["two",936],["different",936],["dimensions",936],["This",943],["is",943],["nothing",943],["but",943],["the",943],["extension",943],["of",943],["the",943],["very",943],["same",943],["law",943],["into",943],["higher",943],["dimension",943],["Now",951],["where",951],["is",951],["this",951],["implemented",951],["exactly",951],["you",951],["can",951],["see",951],["the",951],["cosine",951],["of",951],["theta",951],["to",951],["Note",955],["that",955],["n",955],["1",955],["and",955],["N",955],["2",957],["is",957],["considered",957],["differently",957],["because",957],["one",957],["of",957],["these",957],["media",957],["is",957],["always",957],["going",957],["to",957],["be",957],["air",957],["therefore",963],["one",963],["of",963],["the",963],["indices",963],["of",963],["refraction",963],["is",963],["always",963],["going",963],["to",963],["be",963],["1",963],["the",968],["rest",968],["is",968],["just",968],["copy-Paste",968],["and",968],["again,",971],["you",971],["can",971],["see",971],["that",971],["the",971],["square",971],["root",971],["is",971],["missing",971],["and",971],["we",971],["are",971],["going",971],["to",971],["postpone",971],["this",971],["after",971],["the",971],["test",971],["of",971],["cosine",971],["t",971],["2",971],["Because",979],["if",979],["it",979],["is",979],["actually",979],["not",979],["larger",979],["than",979],["0",979],["then",979],["we",979],["are",979],["not",979],["going",979],["to",979],["need",979],["this",979],["variable",979],["at",979],["all",979],["therefore",979],["We",986],["can",986],["postpone",986],["this",986],["after",986],["the",986],["test",986],["again",986],["What",994],["about",994],["the",994],["direction",994],["of",994],["the",994],["outgoing",994],["Ray",994],["well?",994],["This",994],["is",994],["just",994],["copy-paste",994],["from",994],["the",994],["formula",994],["that",994],["we",994],["have",994],["derived",994],["before",994],["so",994],["simple",994],["as",994],["that",994],["Obviously",1002],["we",1002],["again",1002],["need",1002],["the",1002],["recursion",1002],["because",1002],["if",1002],["we",1002],["go",1002],["inside",1002],["A",1006],["glass",1006],["sphere",1006],["then",1006],["we",1006],["are",1006],["going",1006],["to",1006],["compute",1006],["the",1006],["refraction,",1006],["so",1006],["we",1006],["are",1006],["going",1006],["to",1006],["be",1006],["inside",1006],["of",1006],["the",1006],["sphere",1006],["what",1013],["does",1013],["it",1013],["mean",1013],["one",1013],["that",1013],["we",1013],["have",1013],["to",1013],["invert",1013],["the",1013],["normal",1013],["because",1013],["we",1013],["are",1013],["inside",1013],["so",1013],["the",1013],["normals",1013],["are",1013],["flipped",1013],["and",1013],["Again,",1020],["we",1020],["need",1020],["to",1020],["compute",1020],["the",1020],["trace",1020],["function.",1020],["Which",1020],["is",1020],["the",1020],["recursion",1020],["so",1020],["we",1020],["are",1020],["also",1020],["interested",1020],["in",1020],["the",1020],["higher",1020],["order",1020],["bounces",1020],["Onwards",1028],["to",1028],["friends",1028],["law",1028],["what",1028],["is",1028],["the",1028],["probability",1028],["of",1028],["reflection",1028],["and",1028],["refraction",1028],["when",1028],["rays",1028],["are",1028],["bouncing",1028],["off",1028],["in",1028],["different",1028],["directions?",1028],["In",1037],["different",1037],["angles",1037],["off",1037],["of",1037],["refractive",1037],["surfaces",1037],["implemented",1037],["by",1037],["Christian",1037],["Hafner",1037],["so",1037],["a",1037],["big",1037],["thanks",1037],["for",1037],["him",1037],["It",1043],["is",1043],["very",1043],["simple",1043],["you",1043],["can",1043],["see",1043],["that",1043],["It",1046],["is",1046],["exactly",1046],["the",1046],["same",1046],["as",1046],["what",1046],["we",1046],["have",1046],["learned",1046],["in",1046],["Mathematics,",1046],["so",1046],["this",1046],["is",1046],["the",1046],["r",1046],["0",1046],["term",1046],["This",1050],["is",1050],["the",1050],["probably",1050],["of",1050],["reflection",1050],["in",1050],["normal",1050],["incidents",1050],["And",1054],["we",1054],["are",1054],["interested",1054],["in",1054],["the",1054],["square",1054],["of",1054],["that",1054],["and",1054],["note",1054],["that",1054],["you",1054],["don't",1054],["see",1054],["the",1054],["N1",1054],["and",1054],["N2",1054],["This",1060],["is",1060],["because",1060],["one",1060],["of",1060],["them",1060],["is",1060],["always",1060],["going",1060],["to",1060],["be",1060],["air",1060],["or",1060],["vacuum",1060],["So",1064],["it",1064],["is",1064],["going",1064],["to",1064],["have",1064],["the",1064],["index",1064],["of",1064],["refraction",1064],["of",1064],["one",1064],["Now",1068],["what",1068],["about",1068],["the",1068],["final",1068],["probability",1068],["of",1068],["reflection",1068],["it",1068],["is",1068],["also",1068],["coming",1068],["from",1068],["the",1068],["formula.",1068],["We",1068],["have",1068],["every",1068],["bit",1068],["of",1068],["information",1068],["We",1075],["need",1075],["so",1075],["we",1075],["just",1075],["put",1075],["in",1075],["there",1075],["this",1075],["term",1075],["with",1075],["the",1075],["cosine",1075],["attenuation",1080],["How",1081],["does",1081],["the",1081],["main",1081],["function",1081],["look",1081],["like",1081],["well?",1081],["We",1081],["have",1081],["some?",1081],["Wizardry",1085],["with",1085],["C++",1087],["11",1087],["Lambda",1087],["functions",1087],["But",1089],["basically",1089],["this",1089],["is",1089],["just",1089],["a",1089],["shortcut",1089],["in",1089],["order",1089],["to",1089],["be",1089],["able",1089],["to",1089],["add",1089],["The",1094],["new",1094],["sphere",1094],["or",1094],["a",1094],["new",1094],["plane",1094],["to",1094],["the",1094],["scene",1094],["in",1094],["one",1094],["line",1094],["of",1094],["code?",1094],["Spears",1098],["are",1098],["given",1098],["by",1098],["their",1098],["radius",1098],["position",1098],["color",1098],["by",1098],["color",1098],["we",1098],["obviously",1098],["mean",1098],["abidos",1098],["Emission",1105],["and",1105],["type",1105],["type",1105],["means",1105],["what",1105],["kind",1105],["of",1105],["brdf",1105],["we",1105],["have",1105],["a",1105],["diffuse",1105],["a",1105],["specular",1105],["or",1105],["a",1105],["refractive",1105],["brdf",1105],["Now",1112],["for",1112],["planes",1112],["we",1112],["have",1112],["position",1112],["normal",1112],["color",1112],["emission",1112],["and",1112],["obviously",1112],["type",1112],["So",1117],["what",1117],["kind",1117],["of",1117],["material",1117],["we",1117],["have",1117],["so",1117],["using",1117],["just",1117],["one",1117],["line",1117],["of",1117],["code",1117],["you",1117],["can",1117],["add",1117],["a",1117],["new",1117],["object",1117],["and",1117],["specify",1117],["everything",1117],["Every",1124],["information",1124],["that",1124],["you",1124],["would",1124],["need",1124],["to",1124],["it",1124],["Now",1126],["we",1126],["also",1126],["add",1126],["the",1126],["light",1126],["source",1126],["and",1126],["we",1126],["specify",1126],["the",1126],["index",1126],["of",1126],["refraction",1126],["for",1126],["the",1126],["refractive",1126],["Brdf",1133],["and",1133],["we",1133],["also",1133],["specify",1133],["how",1133],["many",1133],["samples",1133],["per",1133],["pixel",1133],["would",1133],["be",1133],["like",1133],["to",1133],["compute?",1133],["onwards",1141],["to",1141],["the",1141],["main",1141],["loop",1141],["we",1141],["have",1141],["Two",1143],["four",1143],["loops",1143],["that",1143],["iterate",1143],["through",1143],["the",1143],["width",1143],["and",1143],["the",1143],["height",1143],["of",1143],["the",1143],["image",1143],["plane",1143],["now",1143],["Vector",1150],["C",1150],["is",1150],["color",1150],["it's",1150],["again",1150],["Very",1153],["sloppy",1153],["what",1153],["it",1153],["means",1153],["is",1153],["actually",1153],["the",1153],["radiance",1153],["that",1153],["we",1153],["compute",1153],["we",1153],["instantiate",1153],["array",1153],["What",1158],["is",1158],["going",1158],["to",1158],["be",1158],["the",1158],["origin",1158],["of",1158],["the",1158],["array",1158],["this",1158],["is",1158],["going",1158],["to",1158],["be",1158],["zero",1158],["zero",1158],["zero",1158],["so",1158],["this",1158],["is?",1158],["Where",1163],["the",1163],["camera",1163],["is",1163],["placed?",1163],["what",1166],["is",1166],["going",1166],["to",1166],["be",1166],["the",1166],["direction",1166],["of",1166],["the",1166],["Ray",1166],["while",1166],["we",1166],["connect",1166],["this",1166],["Ray",1166],["to",1166],["the",1166],["camera",1166],["plane",1166],["and",1166],["We",1171],["specify",1171],["which",1171],["pixel",1171],["we",1171],["are",1171],["computing",1171],["with",1171],["I",1171],["and",1171],["J",1171],["And",1175],["then",1175],["we",1175],["add",1175],["this",1175],["weird",1175],["random",1175],["number",1175],["to",1175],["it",1175],["now",1175],["what",1175],["this",1175],["means",1175],["is",1175],["actually",1175],["filtering",1175],["in",1175],["Recursive",1182],["Ray",1182],["tracing",1182],["what",1182],["you",1182],["would",1182],["do",1182],["is",1182],["you",1182],["would",1182],["own",1182],["Sam",1182],["deray",1182],["through",1182],["the",1182],["midpoint",1182],["of",1182],["a",1182],["pixel",1182],["And",1188],["that's",1188],["it",1188],["you",1188],["would",1188],["compute",1188],["one",1188],["sample",1188],["per",1188],["pixel",1188],["in",1188],["Monte",1193],["Carlo",1193],["Path",1193],["tracing",1193],["your",1193],["computing",1193],["many",1193],["samples",1193],["per",1193],["pixel",1193],["and",1193],["they",1193],["don't",1193],["have",1193],["to",1193],["go",1193],["through",1193],["the",1193],["midpoint",1193],["of",1193],["the",1193],["pixel",1193],["you",1193],["would",1193],["sample",1193],["the",1201],["area",1201],["of",1201],["the",1201],["pixel",1201],["and",1201],["this",1201],["gives",1201],["you",1201],["anti-aliasing",1204],["effects",1204],["for",1204],["free",1204],["if",1204],["you",1204],["use",1204],["it",1204],["correctly",1204],["What",1209],["is",1209],["going",1209],["to",1209],["be",1209],["the",1209],["direction",1209],["of",1209],["the",1209],["Ray",1209],["Pollicis",1209],["again",1209],["the",1209],["same",1209],["a",1209],["minus",1209],["b?",1209],["The",1213],["B",1213],["is",1213],["the",1213],["origin",1213],["of",1213],["the",1213],["Ray",1213],["and",1213],["a",1213],["is",1213],["the",1213],["camera",1213],["coordinate?",1213],["So",1218],["what",1218],["does",1218],["it",1218],["mean",1218],["that",1218],["it",1218],["is",1218],["pointing",1218],["from",1218],["Zero",1218],["to",1218],["the",1218],["camera",1218],["Plane?",1218],["And",1222],["we",1222],["normalize",1222],["this",1222],["expression",1222],["to",1222],["have",1222],["array",1222],["of",1222],["unit",1222],["length",1222],["Now",1226],["we",1226],["obviously",1226],["call",1226],["the",1226],["trace",1226],["function",1226],["The",1229],["number",1229],["of",1229],["bounces",1229],["is",1229],["zero",1229],["and",1229],["we",1229],["pass",1229],["every",1229],["information",1229],["that",1229],["needs",1229],["to",1229],["be",1229],["known",1229],["in",1229],["order",1229],["to",1229],["compute",1229],["these",1229],["bounces",1229],["So",1236],["we",1236],["provide",1236],["this",1236],["initial",1236],["Ray",1236],["and",1236],["the",1236],["scene",1236],["and",1236],["everything",1236],["else",1236],["obviously",1236],["we",1236],["also",1236],["pass",1236],["the",1236],["C",1236],["and",1242],["this",1242],["is",1242],["going",1242],["to",1242],["collect",1242],["all",1242],["the",1242],["radians",1242],["there",1242],["is",1242],["in",1242],["the",1242],["subsequent",1242],["bounces",1242],["and",1242],["Then",1248],["after",1248],["this",1248],["recursion",1248],["is",1248],["done",1248],["We",1250],["deposit",1250],["all",1250],["this",1250],["energy",1250],["all",1250],["this",1250],["radiance",1250],["to",1250],["the",1250],["individual",1250],["pixels",1250],["and",1250],["then",1250],["we",1250],["divide",1250],["by",1250],["the",1250],["number",1250],["of",1250],["samples",1250],["Because",1258],["if",1258],["we",1258],["wouldn't",1258],["do",1258],["this,",1258],["then",1258],["you",1258],["remember",1258],["the",1258],["1",1258],["over",1258],["N",1258],["Multiplier",1263],["everywhere",1263],["in",1263],["Monte",1263],["Carlo",1263],["integration",1263],["if",1263],["you",1263],["wouldn't",1263],["do",1263],["this",1263],["then",1263],["the",1263],["more",1263],["samples",1263],["you",1263],["compute",1263],["the",1263],["brighter",1263],["image",1263],["you",1263],["would",1263],["get",1263],["and",1263],["this",1263],["Is",1271],["obviously",1271],["not",1271],["what",1271],["we",1271],["are",1271],["looking",1271],["for?",1271],["At",1300],["the",1300],["very",1300],["end.",1300],["We",1300],["create",1300],["a",1300],["file.",1300],["This",1300],["is",1300],["the",1300],["pPM",1300],["file",1300],["format",1300],["where",1300],["you",1300],["can",1300],["easily",1300],["write",1300],["all",1300],["your",1300],["contributions",1300],["in",1300],["there",1300],["We",1307],["also",1307],["start",1307],["a",1307],["stopwatch",1307],["in",1307],["order",1307],["to",1307],["measure",1307],["how",1307],["long",1307],["we",1307],["have",1307],["been",1307],["tracing",1307],["all",1307],["these",1307],["race",1307],["So",1313],["very",1313],["simple",1313],["very",1313],["trivial",1313],["and",1313],["when",1313],["we",1313],["are",1313],["done,",1313],["we",1313],["close",1313],["the",1313],["file",1313],["it",1313],["has",1313],["the",1313],["image",1313],["in",1313],["there",1313],["and",1319],["we",1319],["then",1319],["write",1319],["how",1319],["long",1319],["the",1319],["rendering",1319],["algorithm",1319],["has",1319],["been",1319],["running",1319],["for",1319],["and",1319],["Basically",1325],["that's",1325],["it.",1325],["That's",1325],["it.",1325],["This",1325],["is",1325],["effectively",1325],["250",1330],["Lines",1330],["of",1330],["code",1330],["that",1330],["can",1330],["compute",1330],["indirect",1330],["illumination",1330],["caustics",1333],["and",1333],["every",1333],["global",1333],["illumination",1333],["effect",1333],["and",1333],["It",1338],["can",1338],["compute",1338],["images",1338],["like",1338],["this.",1338],["This",1338],["is",1338],["one",1338],["student",1338],["submission",1338],["from",1338],["Previous",1338],["years",1338],["absolutely",1338],["gorgeous",1338],["This",1344],["is",1344],["the",1344],["fixed",1344],["version",1344],["of",1344],["small",1344],["paint",1344],["where",1344],["there",1344],["are",1344],["no",1344],["errors",1344],["in",1344],["the",1344],["sampling",1344],["another",1351],["one",1351],["from",1351],["the",1351],["Hakama",1351],["This",1353],["actually",1353],["looks",1353],["like",1353],["I",1353],["don't",1353],["know",1353],["if",1353],["you",1353],["are",1353],["into",1353],["the",1353],["music",1353],["band",1353],["boards",1353],["of",1353],["Canada",1353],["But",1359],["this",1359],["looks",1359],["exactly",1359],["like",1359],["one",1359],["of",1359],["their",1359],["album",1359],["covers",1359],["love",1362],["it",1362],["really",1362],["cool",1362],["and",1362],["also,",1366],["Sierpinski",1366],["triangles",1366],["from",1366],["Christi",1366],["and",1366],["Khosla",1366],["you",1373],["can",1373],["find",1373],["the",1373],["link",1373],["for",1373],["the",1373],["code",1373],["in",1373],["there",1373],["and",1373],["Take",1377],["a",1377],["crack",1377],["at",1377],["it.",1377],["Just",1377],["try",1377],["it",1377],["build",1377],["different",1377],["scenes",1377],["try",1377],["to",1377],["understand",1377],["What",1381],["is",1381],["going",1381],["on",1381],["in",1381],["there",1381],["try",1381],["to",1381],["mess",1381],["the",1381],["code",1381],["up?",1381],["I",1384],["wonder",1384],["what",1384],["happens",1384],["if",1384],["I",1384],["would",1384],["not",1384],["normalize",1384],["this",1384],["vector",1384],["play",1384],["with",1384],["it",1384],["It's",1389],["a",1389],["really",1389],["small",1389],["concise",1389],["and",1389],["really",1389],["understandable",1389],["part",1389],["tracer",1389],["So",1395],["take",1395],["your",1395],["time",1395],["and",1395],["play",1395],["with",1395],["it",1395],["It's",1398],["lots",1398],["of",1398],["fun,",1398],["and",1398],["you",1398],["can",1398],["create",1398],["lots",1398],["of",1398],["beautiful",1398],["beautiful",1398],["images",1398],["with",1398],["Global",1398],["illumination",1398],["Thank",1405],["you",1405]]}